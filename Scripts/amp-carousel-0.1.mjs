;
(self.AMP=self.AMP||[]).push({m:1,v:"2210010655000",n:"amp-carousel",ev:"0.1",l:!0,f:function(t,i){(()=>{function i(t,i,s){return i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}function s(t,i){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),s.push.apply(s,n)}return s}function n(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?s(Object(e),!0).forEach((function(s){i(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var{isArray:e}=Array;function o(t){return"string"==typeof t}var{hasOwnProperty:r,toString:l}=Object.prototype;function h(t){const i=Object.create(null);return t&&Object.assign(i,t),i}function a(t){return"number"==typeof t&&isFinite(t)}function u(t,i,s,n,e,o,r,l,h,a,u){return t}function c(t){return(t.ownerDocument||t).defaultView}function p(t){return CSS.escape(t)}function d(t){return function(t,i){const s=[];for(let i=t.firstElementChild;i;i=i.nextElementSibling)!(function(t){let i;var s;return o(t)?i=t:1==(null==(s=t)?void 0:s.nodeType)&&(i=t.tagName),!!i&&i.toLowerCase().startsWith("i-")}(n=i)||n.nodeType===Node.ELEMENT_NODE&&(n.hasAttribute("placeholder")||n.hasAttribute("fallback")||n.hasAttribute("overflow")))&&s.push(i);var n;return s}(t)}var f={bubbles:!0,cancelable:!0};function m(t,i,s){const n=t.hasAttribute(i),e=void 0!==s?s:!n;return e!==n&&(e?t.setAttribute(i,""):t.removeAttribute(i)),e}function v(t){return t.hasAttribute("i-amphtml-ssr")}var _,b="amp-carousel-button-prev",A="amp-carousel-button-next",P="i-amphtml-carousel-has-controls",g="amp-carousel-slide",x="i-amphtml-slide-item",w="i-amphtml-slides-container",E="i-amphtml-slidescroll-no-snap",y="i-amphtml-slide-item-show",M="i-amphtml-scrollable-carousel-container";function T(){for(let t=0;t<arguments.length;t++)if(!arguments[t])throw new Error("Invalid server render")}function I(t,{className:i,enabled:s,title:n}){const e=C(t)?"presentation":"button",o=t.ownerDocument.createElement("div");return o.setAttribute("tabindex","0"),o.classList.add("amp-carousel-button",i),o.setAttribute("role",e),o.setAttribute("title",n),R(o,s),t.appendChild(o),o}function R(t,i){t.classList.toggle("amp-disabled",!i),t.setAttribute("aria-disabled",String(!i)),t.setAttribute("tabindex",String(i?0:-1))}function k(t){const i=d(t).length,s=C(t)?function(t){if(v(t))return function(t){const i=t.querySelector(`.${p(M)}`),s=Array.from(t.querySelectorAll(`.${p(g)}`));return T(i,s),{container:i,cells:s}}(t);const i=t.ownerDocument,s=d(t),n=i.createElement("div");return n.classList.add(M),n.setAttribute("tabindex","-1"),t.appendChild(n),s.forEach((t=>{t.classList.add(g,"amp-scrollable-carousel-slide"),n.appendChild(t)})),{cells:s,container:n}}(t):function(t){var i;if(v(t))return function(t){const i=t.querySelector(`.${p(w)}`),s=Array.from(t.querySelectorAll(`.${p(x)}`)),n=Array.from(t.querySelectorAll(`.${p(g)}`));return T(i,s,n),{slides:n,slidesContainer:i,slideWrappers:s}}(t);const s=t.ownerDocument,n=d(t);t.classList.add("i-amphtml-slidescroll");const e=s.createElement("div");e.setAttribute("tabindex","-1"),e.classList.add(w,E),e.setAttribute("aria-live","polite"),t.appendChild(e);const o=[];return n.forEach((t=>{t.classList.add(g);const i=s.createElement("div");i.classList.add(x),i.appendChild(t),e.appendChild(i),o.push(i)})),null===(i=o[0])||void 0===i||i.classList.add(y),{slidesContainer:e,slides:n,slideWrappers:o}}(t);return n(n({},function(t,i){if(v(t))return function(t){const i=t.querySelector(`.${p(b)}`),s=t.querySelector(`.${p(A)}`);return T(i,s),{prevButton:i,nextButton:s}}(t);(function(t,i){const s=i.documentElement;return["âš¡4email","amp4email"].some((t=>s.hasAttribute(t)))}(0,t.ownerDocument)||t.hasAttribute("controls"))&&t.classList.add(P);const s=t.hasAttribute("loop"),n=i>1?2:s?0:1;return{prevButton:I(t,{className:b,title:V(t,{index:String(s?i:0),total:String(i)}),enabled:t.hasAttribute("loop")}),nextButton:I(t,{className:A,title:S(t,{index:String(n),total:String(i)}),enabled:i>1})}}(t,i)),s)}function S(t,i){const s=t.getAttribute("data-next-button-aria-label")||"Next item in carousel",{index:n,total:e}=i;return O(t,{prefix:s,index:n,total:e})}function V(t,i){const s=t.getAttribute("data-prev-button-aria-label")||"Previous item in carousel",{index:n,total:e}=i;return O(t,{prefix:s,index:n,total:e})}function O(t,{index:i,prefix:s,total:n}){return C(t)?s:`${s} ${(t.getAttribute("data-button-count-format")||"(%s of %s)").replace("%s",i).replace("%s",n)}`}function C(t){return"slides"!==t.getAttribute("type")}function j(){return _||(_=Promise.resolve(void 0))}var B=class{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}},N="ArrowLeft",z="ArrowRight",L="fixed",$="fixed-height";function F(t,i,s={}){const{needsRootBounds:n,rootMargin:e,threshold:o}=s,r=function(t){return t.parent&&t.parent!=t}(i)&&(n||e)?i.document:void 0;return new i.IntersectionObserver(t,{threshold:o,root:r,rootMargin:e})}var W,H=new WeakMap,U=new WeakMap;function X(t,i,s){const n=c(t);if(s){const e=F((t=>{i(t[t.length-1])}),n,s);return e.observe(t),()=>{e.unobserve(t)}}let e=H.get(n);e||H.set(n,e=F(Y,n));let o=U.get(t);return o||(o=[],U.set(t,o)),o.push(i),e.observe(t),()=>{!function(t,i){const s=U.get(t);if(!s)return;if(!function(t,i){const s=t.indexOf(i);return-1!=s&&(t.splice(s,1),!0)}(s,i))return;if(s.length)return;const n=c(t),e=H.get(n);null==e||e.unobserve(t),U.delete(t)}(t,i)}}function Y(t){const i=new Set;for(let s=t.length-1;s>=0;s--){const n=t[s],{target:e}=n;if(i.has(e))continue;i.add(e);const o=U.get(e);if(o)for(let t=0;t<o.length;t++)(0,o[t])(n)}}function D(t){const i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;const{message:s,stack:n}=t,e=new Error(s);for(const i in t)e[i]=t[i];return e.stack=n,e}function G(t){let i=null,s="";for(const t of arguments)t instanceof Error&&!i?i=D(t):(s&&(s+=" "),s+=t);return i?s&&(i.message=s+": "+i.message):i=new Error(s),i}function J(t){var i,s;null===(i=(s=self).__AMP_REPORT_ERROR)||void 0===i||i.call(s,t)}function Z(t,...i){try{return t.apply(null,i)}catch(t){!function(t){const i=G.apply(null,arguments);setTimeout((()=>{throw J(i),i}))}(t)}}var q=["Webkit","webkit","Moz","moz","ms","O","o"],K={"getPropertyPriority":()=>"","getPropertyValue":()=>""};function Q(t,i,s){if(it(i))return i;W||(W=h());let n=W[i];if(!n||s){if(n=i,void 0===t[i]){const s=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),e=function(t,i){for(let s=0;s<q.length;s++){const n=q[s]+i;if(void 0!==t[n])return n}return""}(t,s);void 0!==t[e]&&(n=e)}s||(W[i]=n)}return n}function tt(t,i,s,n,e){const o=Q(t.style,i,e);if(!o)return;const r=n?s+n:s;t.style.setProperty(function(t){const i=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return q.some((t=>i.startsWith(t+"-")))?`-${i}`:i}(o),r)}function it(t){return t.startsWith("--")}function st(t,i){return s=>t+(i-t)*s}var nt=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function et(t,i=""){try{return decodeURIComponent(t)}catch(t){return i}}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var ot=self.__AMP_LOG;function rt(t,i){throw new Error("failed to call initLogConstructor")}function lt(t){return ot.user||(ot.user=ht()),function(t,i){return i&&i.ownerDocument.defaultView!=t}(ot.user.win,t)?ot.userForEmbed||(ot.userForEmbed=ht()):ot.user}function ht(t){return rt()}function at(){return ot.dev||(ot.dev=rt())}function ut(t,i,s,n,e,o,r,l,h,a,u){return t}function ct(t,i){return vt(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function pt(t,i){return vt(mt(ft(t)),i)}function dt(t,i){return _t(mt(t),i)}function ft(t){return t.nodeType?(i=c(t),ct(i,"ampdoc")).getAmpDoc(t):t;var i}function mt(t){const i=ft(t);return i.isSingleDoc()?i.win:i}function vt(t,i){ut(At(t,i));const s=bt(t)[i];return s.obj||(ut(s.ctor),ut(s.context),s.obj=new s.ctor(s.context),ut(s.obj),s.context=null,s.resolve&&s.resolve(s.obj)),s.obj}function _t(t,i){const s=bt(t)[i];return s?s.promise?s.promise:(vt(t,i),s.promise=Promise.resolve(s.obj)):null}function bt(t){let i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}function At(t,i){const s=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!s||!s.ctor)}var Pt=t=>function(t,i){const s=mt(ft(t));return At(s,i)?vt(s,i):null}(t,"action"),gt=t=>function(t,i,s,n){const e=dt(t,i);if(e)return e;const o=ft(t);return o.whenExtensionsKnown().then((()=>{const t=o.getExtensionVersion(s);return t?ct(o.win,"extensions").waitForExtension(s,t):null})).then((s=>s?function(t,i){return function(t,i){const s=_t(t,i);if(s)return s;const n=bt(t);return n[i]=function(){const t=new B,{promise:i,reject:s,resolve:n}=t;return i.catch((()=>{})),{obj:null,promise:i,resolve:n,reject:s,context:null,ctor:null}}(),n[i].promise}(mt(t),i)}(t,i):null))}(t,"amp-analytics-instrumentation","amp-analytics"),xt=t=>pt(t,"owners"),wt=t=>ct(t,"platform"),Et=t=>vt(t,"timer"),yt=t=>ct(t,"vsync");function Mt(t,i,s,n){return e=>Tt.solveYValueFromXValue(e,0,0,t,i,s,n,1,1)}var Tt=class{static solveYValueFromXValue(t,i,s,n,e,o,r,l,h){return Tt.Kh(Tt.Yh(t,i,n,o,l),s,e,r,h)}static Yh(t,i,s,n,e){const o=1e-6;let r=(t-i)/(e-i);if(r<=0)return 0;if(r>=1)return 1;let l=0,h=1,a=0;for(let u=0;u<8;u++){a=Tt.Jh(r,i,s,n,e);const u=(Tt.Jh(r+o,i,s,n,e)-a)/o;if(Math.abs(a-t)<o)return r;if(Math.abs(u)<o)break;a<t?l=r:h=r,r-=(a-t)/u}for(let u=0;Math.abs(a-t)>o&&u<8;u++)a<t?(l=r,r=(r+h)/2):(h=r,r=(r+l)/2),a=Tt.Jh(r,i,s,n,e);return r}static Jh(t,i,s,n,e){if(0==t)return i;if(1==t)return e;let o=Tt.Qh(i,s,t),r=Tt.Qh(s,n,t);const l=Tt.Qh(n,e,t);return o=Tt.Qh(o,r,t),r=Tt.Qh(r,l,t),Tt.Qh(o,r,t)}static Kh(t,i,s,n,e){if(0==t)return i;if(1==t)return e;let o=Tt.Qh(i,s,t),r=Tt.Qh(s,n,t);const l=Tt.Qh(n,e,t);return o=Tt.Qh(o,r,t),r=Tt.Qh(r,l,t),Tt.Qh(o,r,t)}static Qh(t,i,s){return t+s*(i-t)}},It={LINEAR:t=>t,EASE:t=>Tt.solveYValueFromXValue(t,0,0,.25,.1,.25,1,1,1),EASE_IN:t=>Tt.solveYValueFromXValue(t,0,0,.42,0,1,1,1,1),EASE_OUT:t=>Tt.solveYValueFromXValue(t,0,0,0,0,.58,1,1,1),EASE_IN_OUT:t=>Tt.solveYValueFromXValue(t,0,0,.42,0,.58,1,1,1)},Rt={"linear":It.LINEAR,"ease":It.EASE,"ease-in":It.EASE_IN,"ease-out":It.EASE_OUT,"ease-in-out":It.EASE_IN_OUT};function kt(t){if(!t)return null;if(o(t)){if(-1!=(t=t).indexOf("cubic-bezier")){const i=t.match(/cubic-bezier\((.+)\)/);if(i){const t=i[1].split(",").map(parseFloat);if(4==t.length){for(let i=0;i<4;i++)if(isNaN(t[i]))return null;return Mt(t[0],t[1],t[2],t[3])}}return null}return Rt[t]}return t}var St,Vt="Animation",Ot=function(){},Ct=class{static animate(t,i,s,n){return new Ct(t).setCurve(n).add(0,i,1).start(s)}constructor(t,i){this.tn=t,this.Xh=i||yt(self),this.Zh=null,this.io=[]}setCurve(t){return t&&(this.Zh=kt(t)),this}add(t,i,s,n){return this.io.push({delay:t,func:i,duration:s,curve:kt(n)}),this}start(t){return new jt(this.Xh,this.tn,this.io,this.Zh,t)}},jt=class{constructor(t,i,s,n,e){this.Xh=t,this.tn=i,this.io=[];for(let t=0;t<s.length;t++){const i=s[t];this.io.push({delay:i.delay,func:i.func,duration:i.duration,curve:i.curve||n,started:!1,completed:!1})}this.so=e,this.Ch=Date.now(),this.wn=!0,this.xi={};const o=new B;this.eo=o.promise,this.ii=o.resolve,this.no=o.reject,this.ro=this.Xh.createAnimTask(this.tn,{mutate:this.ho.bind(this)}),this.Xh.canAnimate(this.tn)?this.ro(this.xi):this.oo(!1,0)}then(t,i){return t||i?this.eo.then(t,i):this.eo}thenAlways(t){const i=t||Ot;return this.then(i,i)}halt(t){this.oo(!1,t||0)}oo(t,i){if(this.wn){if(this.wn=!1,0!=i){this.io.length>1&&this.io.sort(((t,i)=>t.delay+t.duration-(i.delay+i.duration)));try{if(i>0)for(let t=0;t<this.io.length;t++)this.io[t].func(1,!0);else for(let t=this.io.length-1;t>=0;t--)this.io[t].func(0,!1)}catch(i){at().error(Vt,"completion failed: "+i,i),t=!1}}t?this.ii():this.no()}}ho(t){if(!this.wn)return;const i=Date.now(),s=Math.min((i-this.Ch)/this.so,1);for(let t=0;t<this.io.length;t++){const i=this.io[t];!i.started&&s>=i.delay&&(i.started=!0)}for(let t=0;t<this.io.length;t++){const i=this.io[t];i.started&&!i.completed&&this.uo(i,s)}1==s?this.oo(!0,0):this.Xh.canAnimate(this.tn)?this.ro(this.xi):this.oo(!1,0)}uo(t,i){let s,n;if(t.duration>0){if(s=Math.min((i-t.delay)/t.duration,1),n=s,t.curve&&1!=n)try{n=t.curve(s)}catch(t){return at().error(Vt,"step curve failed: "+t,t),void this.oo(!1,0)}}else s=1,n=1;1==s&&(t.completed=!0);try{t.func(n,t.completed)}catch(t){return at().error(Vt,"step mutate failed: "+t,t),void this.oo(!1,0)}}};function Bt(t,i,s,n){return function(t,i,s,n){let e=t,o=s,r=t=>{try{return o(t)}catch(t){var i,s;throw null===(i=(s=self).__AMP_REPORT_ERROR)||void 0===i||i.call(s,t),t}};const l=function(){if(void 0!==St)return St;St=!1;try{const t={get capture(){return St=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return St}(),h=!(null==n||!n.capture);return e.addEventListener(i,r,l?n:h),()=>{null==e||e.removeEventListener(i,r,l?n:h),o=null,e=null,r=null}}(t,i,s,n)}var Nt=class{constructor({element:t,go:i,nextButton:s,prevButton:n}){this.Qn=t,this.t8=i,this.i=c(t),this.Xf=n,this.Bf=s,this.n0=!1,this.i8()}i8(){var t;this.setupButtonInteraction(this.Xf,(()=>this.handlePrev())),this.setupButtonInteraction(this.Bf,(()=>this.handleNext())),this.Qn.hasAttribute("controls")?this.n0=!0:(t=this.i,ct(t,"input")).onMouseDetected((t=>{t&&(this.n0=!0,m(this.Qn,"i-amphtml-carousel-hide-buttons",!this.n0),this.Qn.classList.add(P))}),!0)}setupButtonInteraction(t,i){t.addEventListener("click",i),t.addEventListener("keydown",(t=>{t.defaultPrevented||"Enter"!=t.key&&" "!=t.key||(t.preventDefault(),i())}))}setControlsState({next:t,prev:i}){R(this.Xf,i),R(this.Bf,t)}hintControls(){this.n0||yt(this.i).mutate((()=>{const t="i-amphtml-carousel-button-start-hint";this.Qn.classList.add(t),Et(this.i).delay((()=>{var i;(i=this.Qn,pt(i,"mutator")).measureMutateElement(this.Qn,null,(()=>{this.Qn.classList.remove(t),m(this.Qn,"i-amphtml-carousel-hide-buttons",!this.n0)}))}),4e3)}))}updateButtonTitles(t,i){this.Xf.title=t,this.Bf.title=i}handlePrev(){!this.Xf.classList.contains("amp-disabled")&&this.t8(-1,!0,!1)}handleNext(){!this.Bf.classList.contains("amp-disabled")&&this.t8(1,!0,!1)}},zt=class extends t.BaseElement{constructor(t){super(t),this.ZD=0,this.s8=0,this.n8=null,this.Dn=null,this.JD=null,this.tj=null,this.lm=null}isLayoutSupported(t){return function(t){return t==L||t==$}(t)}isRelayoutNeeded(){return!0}e8(){this.o8(),this.Dn.addEventListener("scroll",this.bf.bind(this)),this.Dn.addEventListener("keydown",this.oL.bind(this)),this.n8.forEach((t=>{xt(this.element).setOwner(t,this.element)})),this.registerAction("goToSlide",(t=>{const{args:i}=t;if(i){const t=parseInt(i.index,10);this.goToSlide(t)}}),1),Pt(this.element).addToAllowlist("amp-carousel","goToSlide",["email"])}buildCallback(){const{cells:t,container:i,nextButton:s,prevButton:n}=k(this.element);this.Dn=i,this.n8=t,this.lm=new Nt({element:this.element,prevButton:n,nextButton:s,go:this.go.bind(this)}),this.e8()}layoutCallback(){return this.tj=X(this.element,(({isIntersecting:t})=>this.viewportCallback(t))),this.r8(this.ZD),this.l8(this.ZD,1),this.lm.setControlsState({prev:this.h8(),next:this.a8()}),j()}unlayoutCallback(){var t;return null===(t=this.tj)||void 0===t||t.call(this),this.tj=null,!0}viewportCallback(t){this.u8(this.ZD,this.ZD),t&&this.lm.hintControls()}go(t,i){const s=this.c8(this.ZD,t),n=this.ZD;if(s!=n)if(i){const t=st(n,s),i=200,e="ease-in-out";Ct.animate(this.element,(i=>{this.Dn.scrollLeft=t(i)}),i,e).thenAlways((()=>{this.p8(s)}))}else this.p8(s),this.Dn.scrollLeft=s}goToSlide(t){const i=this.n8.length;if(!isFinite(t)||t<0||t>=i)return this.user().error("amp-scrollable-carousel","Invalid [slide] value: %s",t),j();const s=this.ZD;let n=s;this.measureMutateElement((()=>{n=this.d8(t)}),(()=>{if(n==s)return;const t=st(s,n);Ct.animate(this.element,(i=>{this.Dn.scrollLeft=t(i)}),200,"ease-in-out").thenAlways((()=>{this.p8(n)}))}))}d8(t){const i=this.element.offsetWidth;return this.n8[t].offsetLeft-(i-this.n8[t].offsetWidth)/2}bf(){const t=this.Dn.scrollLeft;this.ZD=t,null===this.JD&&this.vY(t)}oL(t){const{key:i}=t;i!=N&&i!=z||t.stopPropagation()}vY(t){this.JD=Et(this.win).delay((()=>{Math.abs(t-this.ZD)<30?(this.JD=null,this.p8(this.ZD)):this.vY(this.ZD)}),100)}p8(t){this.u8(t,this.s8),this.r8(t),this.l8(t,Math.sign(t-this.s8)),this.s8=t,this.ZD=t,this.lm.setControlsState({prev:this.h8(),next:this.a8()})}c8(t,i){const s=this.element.offsetWidth,n=this.Dn.scrollWidth,e=t+i*s;return e<0?0:n>=s&&e>n-s?n-s:e}f8(t,i){const s=this.element.offsetWidth;for(let n=0;n<this.n8.length;n++){const e=this.n8[n];e.offsetLeft+e.offsetWidth>=t&&e.offsetLeft<=t+s&&i(e)}}r8(t){this.f8(t,(t=>{xt(this.element).scheduleLayout(this.element,t)}))}l8(t,i){const s=this.c8(t,i);s!=t&&this.f8(s,(t=>{xt(this.element).schedulePreload(this.element,t)}))}u8(t,i){const s=[];this.f8(t,(t=>{s.push(t)})),i!=t&&this.f8(i,(t=>{s.includes(t)||xt(this.element).schedulePause(this.element,t)}))}h8(){return 0!=this.ZD}a8(){const t=this.element.offsetWidth,i=this.Dn.scrollWidth,s=Math.max(i-t,0);return this.ZD!=s}interactionNext(){this.lm.handleNext()}interactionPrev(){this.lm.handlePrev()}goCallback(t,i){this.go(t,i)}o8(){Bt(this.element,"touchmove",(t=>t.stopPropagation()),{passive:!0})}},Lt=/vertical/,$t=new WeakMap,Ft=new WeakMap,Wt=new WeakMap;function Ht(t){let i=$t.get(t);return i||(i=new t.ResizeObserver(Ut),$t.set(t,i)),i}function Ut(t){const i=new Set;for(let s=t.length-1;s>=0;s--){const n=t[s],{target:e}=n;if(i.has(e))continue;i.add(e);const o=Ft.get(e);if(o){Wt.set(e,n);for(let t=0;t<o.length;t++){const{callback:i,type:s}=o[t];Xt(s,i,n)}}}}function Xt(t,i,s){if(0==t){const{contentRect:t}=s,{height:n,width:e}=t;Z(i,{width:e,height:n})}else if(1==t){const{borderBoxSize:t}=s;let n;if(t)n=t.length>0?t[0]:{inlineSize:0,blockSize:0};else{const{target:t}=s,i=c(t),e=Lt.test(function(t,i){return t.getComputedStyle(i)||K}(i,t).writingMode),{offsetHeight:o,offsetWidth:r}=t;let l,h;e?(h=r,l=o):(l=r,h=o),n={inlineSize:l,blockSize:h}}Z(i,n)}}var Yt="__AMP__EXPERIMENT_TOGGLES",Dt="AMP-CAROUSEL",Gt=class extends t.BaseElement{constructor(t){super(t),this.Xh=null,this.m8=!1,this.tQ=[],this.v8=0,this._8=null,this.b8=[],this.A8=!1,this.P8=null,this.g8=!1,this.x8=null,this.w8=!1,this.E8=!1,this.tq=!1,this.y8=5e3,this.M8=null,this.T8=0,this.I8=!1,this.k8=!1,this.S8=0,this.V8=null,this.O8=0,this.C8=0,this.j8=0,this.B8=[];const i=wt(this.win);this.GB=i.isIos(),this.fv=i.isSafari(),this.Da=null,this.N8=!!wt(this.win).getIosVersionString().startsWith("10.3")||!this.GB&&!function(t,i){const s=function(t){var i,s,o,r,l;if(t[Yt])return t[Yt];t[Yt]=h();const a=t[Yt];u(a);const c=n(n({},null!==(i=t.AMP_CONFIG)&&void 0!==i?i:{}),null!==(s=t.AMP_EXP)&&void 0!==s?s:(p=(null===(o=t.__AMP_EXP)||void 0===o?void 0:o.textContent)||"{}",JSON.parse(p)));var p;for(const t in c){const i=c[t];"number"==typeof i&&i>=0&&i<=1&&(a[t]=Math.random()<i)}const d=null===(r=t.AMP_CONFIG)||void 0===r?void 0:r["allow-doc-opt-in"];if(e(d)&&d.length){const i=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(i){var f;const t=(null===(f=i.getAttribute("content"))||void 0===f?void 0:f.split(","))||[];for(const i of t)d.includes(i)&&(a[i]=!0)}}Object.assign(a,function(t){var i;let s="";try{var n;"localStorage"in t&&(s=null!==(n=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==n?n:"")}catch(t){}const e=(null===(i=s)||void 0===i?void 0:i.split(/\s*,\s*/g))||[],o=h();for(const t of e)t&&("-"==t[0]?o[t.substr(1)]=!1:o[t]=!0);return o}(t));const m=null===(l=t.AMP_CONFIG)||void 0===l?void 0:l["allow-url-opt-in"];if(e(m)&&m.length){const i=function(t){const i=h();if(!t)return i;let s;for(;s=nt.exec(t);){const t=et(s[1],s[1]),n=s[2]?et(s[2].replace(/\+/g," "),s[2]):"";i[t]=n}return i}(t.location.originalHash||t.location.hash);for(const t of m){const s=i[`e-${t}`];"1"==s&&(a[t]=!0),"0"==s&&(a[t]=!1)}}return a}(t);return!!s["amp-carousel-chrome-scroll-snap"]}(this.win),this.z8=!1,this.Ev=this.Ev.bind(this),this.tj=null,this.lm=null}isLayoutSupported(t){return function(t){return t==L||t==$||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}isRelayoutNeeded(){return!0}e8(){const t=this.element.getAttribute("autoplay");var i;t&&(this.M8=parseInt(t,10),i=a(this.M8),lt().assert(i,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined)),this.k8&&0!=this.M8&&this.L8(),this.registerAction("toggleAutoplay",(t=>{const{args:i}=t;i&&void 0!==i.toggleOn?this.e0(i.toggleOn):this.e0(!this.tq)}),1)}F8(){if(this.Xh=this.getVsync(),this.Da=Pt(this.element),this.Da.addToAllowlist(Dt,"goToSlide",["email"]),this.m8=null!=function(t,i,s){const n=Q(t.style,"scrollSnapType",void 0);if(n)return it(n)?t.style.getPropertyValue(n):t.style[n]}(this.element),this.N8&&(this.m8=!1),this._8.classList.toggle(E,this.N8),this.m8){const t=this.win.document.createElement("div");t.classList.add("i-amphtml-carousel-start-marker"),this._8.appendChild(t);const i=this.win.document.createElement("div");i.classList.add("i-amphtml-carousel-end-marker"),this._8.appendChild(i)}this.tQ.forEach(((t,i)=>{const s=t.getAttribute("data-slide-id")||i.toString();this.B8.push(s),xt(this.element).setOwner(t,this.element)})),this.o8(),this._8.addEventListener("scroll",this.bf.bind(this)),this._8.addEventListener("keydown",this.oL.bind(this)),Bt(this._8,"touchmove",this.W8.bind(this),{passive:!0}),Bt(this._8,"touchend",this.H8.bind(this),{passive:!0}),this.registerAction("goToSlide",(t=>{const{args:i}=t;i&&this.goToSlide(i.index,3)}),1)}attachedCallback(){(function(t,i,s){const n=t.ownerDocument.defaultView;if(!n)return;let e=Ft.get(t);if(e||(e=[],Ft.set(t,e),Ht(n).observe(t)),!e.some((t=>t.callback===s&&0===t.type))){e.push({type:0,callback:s});const i=Wt.get(t);i&&setTimeout((()=>Xt(0,s,i)))}})(this.element,0,this.Ev)}detachedCallback(){(function(t,i,s){const n=Ft.get(t);if(n&&(function(t,i){const n=[];let e=0;for(let i=0;i<t.length;i++){const r=t[i];(o=r).callback===s&&0===o.type?n.push(r):(e<i&&(t[e]=r),e++)}var o;e<t.length&&(t.length=e)}(n),0==n.length)){Ft.delete(t),Wt.delete(t);const i=t.ownerDocument.defaultView;i&&Ht(i).unobserve(t)}})(this.element,0,this.Ev)}isLoopingEligible(){return this.v8>1}mutatedAttributesCallback(t){const i=t.slide;void 0!==i&&this.goToSlide(i,3)}W8(){this.U8(),this.g8=!0}viewportCallback(t){var i;t?(this.qj(),null===(i=this.lm)||void 0===i||i.hintControls()):this.U8()}interactionNext(){this.lm.handleNext()}interactionPrev(){this.lm.handlePrev()}goCallback(t,i,s){this.go(t,i,s)}go(t,i,s){const n=s?1:3;this.moveSlide(t,i,n),s?this.qj():this.U8()}X8(t){this.P8&&Et(this.win).cancel(this.P8),this.P8=Et(this.win).delay((()=>{if(this.P8=null,this.A8||this.g8)return;const t=this._8.scrollLeft;this.m8?this.Y8(t,1):this.D8(t,void 0,1)}),t)}H8(){const t=this.N8?45:100;this.g8=!1,this.X8(t)}Ev(t){this.C8=t.width,this.z8=!0}buildCallback(){const{nextButton:t,prevButton:i,slideWrappers:s,slides:n,slidesContainer:e}=k(this.element);this.tQ=n,this._8=e,this.b8=s,this.v8=this.tQ.length,this.w8=this.element.hasAttribute("loop"),this.tq=this.element.hasAttribute("autoplay"),this.I8=this.w8&&this.isLoopingEligible(),this.k8=this.tq&&this.isLoopingEligible(),this.lm=new Nt({element:this.element,go:this.go.bind(this),nextButton:t,prevButton:i}),this.lm.updateButtonTitles(this.getPrevButtonTitle(),this.getNextButtonTitle()),this.e8(),this.F8()}layoutCallback(){if(this.tj=X(this.element,(({isIntersecting:t})=>this.viewportCallback(t))),this.element.closest("[i-amphtml-scale-animation]"))return j();if(this.z8||(this.C8=this._8.clientWidth),null===this.V8)this.G8(this.O8);else{const t=lt().assertNumber(this.V8,"E#19457 this.slideIndex_"),i=this.J8(t);xt(this.element).scheduleLayout(this.element,this.tQ[t]),this._8.scrollLeft=i,this.j8=i}return j()}unlayoutCallback(){var t;return null===(t=this.tj)||void 0===t||t.call(this),this.tj=null,this.V8=null,!0}h8(){return this.I8||this.V8>0}a8(){return this.I8||this.V8<this.tQ.length-1}moveSlide(t,i,s){if(null!==this.V8){const n=this.a8(),e=this.h8();if(1==t&&n||-1==t&&e){let n=this.V8+t;if(-1==n?n=this.v8-1:n>=this.v8&&(n=0),i){const i=1!=t||e?this.C8:0;this.D8(i,t,s)}else this.Z8(n,s)}}}bf(t){const i=this._8.scrollLeft;this.GB||this.fv||this.q8(i);const s=this.m8?200:this.GB?45:100;this.X8(s),this.j8=i}oL(t){const{key:i}=t;i!=N&&i!=z||t.stopPropagation()}q8(t){const i=this._8.scrollWidth;-1==this.S8&&t>=this.j8||1==this.S8&&t<=this.j8?this.D8(t).then((()=>{this.S8=0})):t<0?this.S8=-1:t+this.C8>i?this.S8=1:this.S8=0}D8(t,i,s){this.A8=!0;let n=this.K8(t)-this.V8;const e=this.h8();let o=e?this.C8:0;return 0!=n||1!=i&&-1!=i||(n=i),1==n||-1!=n&&n==-1*(this.v8-1)?o=e?2*this.C8:this.C8:-1!=n&&n!=this.v8-1||(o=0),this.Q8(t,o).then((()=>{this.Y8(o,s)}))}K8(t){if(!t&&!this.C8)return 0;const i=Math.round(t/this.C8);let s=0;const n=this.h8(),e=this.a8();n&&e?s=i-1:e?s=i:n&&(s=i-1);let o=this.V8+s;return o=this.I8?o<0?this.v8-1:o>=this.v8?0:o:o<0?0:o>=this.v8?this.v8-1:o,o}getPrevButtonTitle(){const t=this.c0(this.V8),i=(null==t?0:t)+1;return V(this.element,{index:String(i),total:String(this.v8)})}getNextButtonTitle(){const t=this.u0(this.V8),i=(null==t?this.v8-1:t)+1;return S(this.element,{index:String(i),total:String(this.v8)})}Y8(t,i){if(!a(t)||null===this.V8)return;this.A8=!0;const s=this.K8(t);this.Xh.mutate((()=>{this.Z8(s,i),this.Xh.mutate((()=>{this.A8=!1}))}))}goToSlide(t,i){const s=parseInt(t,10);!isFinite(s)||s<0||s>=this.v8?this.user().error(Dt,"Invalid [slide] value: ",t):null!==this.V8?this.Z8(s,i):this.O8=s}c0(t){return t-1>=0?t-1:this.I8?this.v8-1:null}u0(t){return t+1<this.v8?t+1:this.I8?0:null}G8(t){var i,s;const{v8:n}=this;if((t=t)<0||t>=n||this.V8==t)return!1;const e=this.c0(t),o=this.u0(t),r=[];return null!=e&&r.push(e),r.push(t),null!=o&&o!==e&&r.push(o),void 0===this.tQ[t]?(at().error(Dt,"Attempting to access a non-existant slide %s / %s",t,n),!1):(r.forEach(((i,s)=>{this.I8&&tt(this.b8[i],"order",s+1),this.b8[i].classList.add(y);const n=xt(this.element);i==t?(n.scheduleLayout(this.element,this.tQ[i]),n.scheduleResume(this.element,this.tQ[i]),this.tQ[i].setAttribute("aria-hidden","false")):(n.schedulePreload(this.element,this.tQ[i]),this.tQ[i].setAttribute("aria-hidden","true"))})),this._8.scrollLeft=this.J8(t),this.g0(t),this.V8=t,this.M8&&this.V8===this.v8-1&&(this.T8++,this.T8==this.M8&&this.A9()),this.P9(r),null===(i=this.lm)||void 0===i||i.setControlsState({prev:this.h8(),next:this.a8()}),null===(s=this.lm)||void 0===s||s.updateButtonTitles(this.getPrevButtonTitle(),this.getNextButtonTitle()),!0)}Z8(t,i=1){if(this.G8(t)){const s="slideChange",n=function(t,i,s,n){const e={detail:s};return Object.assign(e,void 0),new t.CustomEvent(i,e)}(this.win,`slidescroll.${s}`,{"index":t});this.Da.trigger(this.element,s,n,i),function(t,i,s,n){const e=s||{};u(t.ownerDocument);const o=t.ownerDocument.createEvent("Event");o.data=e;const{bubbles:r,cancelable:l}=f;o.initEvent(i,r,l),t.dispatchEvent(o)}(this.element,s,{index:t,actionTrust:i})}}J8(t){let i=this.C8;return(!this.I8&&0==t||this.tQ.length<=1)&&(i=0),i}P9(t){const{v8:i}=this;for(let s=0;s<i;s++)this.b8[s].classList.contains(y)&&(t.includes(s)||(this.I8&&tt(this.b8[s],"order",""),this.b8[s].classList.remove(y),this.tQ[s].removeAttribute("aria-hidden")),this.V8!=s&&xt(this.element).schedulePause(this.element,this.tQ[s]))}Q8(t,i){if(t==i)return j();const s=st(t,i),n=Mt(.8,0,.6,1),e=this._8;return Ct.animate(e,(t=>{this._8.scrollLeft=s(t)}),80,n).thenAlways()}o8(){Bt(this.element,"touchmove",(t=>t.stopPropagation()),{passive:!0})}g0(t){let i=t-this.V8;if(0==i)return;1!==Math.abs(i)&&(i=i<0?1:-1,null===this.V8&&(i=1));const s={"fromSlide":null===this.V8?"null":this.B8[this.V8],"toSlide":this.B8[t]};this._L("amp-carousel-change",s),1==i?this._L("amp-carousel-next",s):this._L("amp-carousel-prev",s)}_L(t,i){!function(t,i,s={},n=!0){gt(t).then((e=>{e&&e.triggerEventForTarget(t,i,s,n)}))}(this.element,t,i)}L8(){const t=Number(this.element.getAttribute("delay"));t>0&&(this.y8=Math.max(1e3,t)),this.w8||(this.element.setAttribute("loop",""),this.E8=!0,this.w8=!0,this.I8=!0)}qj(){this.k8&&0!=this.M8&&(this.U8(),this.x8=Et(this.win).delay(this.go.bind(this,1,!0,!0),this.y8))}e0(t){if(t==this.k8)return;const i=this.k8;this.tq=t,this.k8=this.tq&&this.isLoopingEligible(),!i&&this.k8&&this.L8(),this.k8?this.qj():this.U8()}U8(){null!==this.x8&&(Et(this.win).cancel(this.x8),this.x8=null)}A9(){this.U8(),this.E8&&(this.element.removeAttribute("loop"),this.E8=!1,this.w8=!1,this.I8=!1),this.tq=!1,this.k8=this.tq&&this.isLoopingEligible()}},Jt=class extends t.BaseElement{upgradeCallback(){return C(this.element)?new zt(this.element):new Gt(this.element)}};t.registerElement("amp-carousel",Jt,'.amp-carousel-slide>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}.amp-carousel-button{position:absolute;box-sizing:border-box;top:50%;height:34px;width:34px;border-radius:2px;opacity:0;pointer-events:all;background-color:rgba(0,0,0,.5);background-position:50% 50%;background-repeat:no-repeat;transform:translateY(-50%);visibility:hidden;z-index:10}.amp-carousel-button:focus{border:1px solid #000;outline:1px solid #fff}.amp-mode-mouse .amp-carousel-button,amp-carousel.i-amphtml-carousel-has-controls .amp-carousel-button,amp-carousel[controls] .amp-carousel-button{opacity:1;visibility:visible}.amp-carousel-button-prev{left:16px;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%23fff"><path d="M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z"/></svg>\');background-size:18px 18px}.amp-carousel-button-next{right:16px;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%23fff"><path d="M9 3 7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z"/></svg>\');background-size:18px 18px}.i-amphtml-carousel-button-start-hint .amp-carousel-button:not(.amp-disabled){animation:i-amphtml-carousel-hint 1s ease-in 3s 1 normal both}.amp-mode-mouse .i-amphtml-carousel-button-start-hint .amp-carousel-button:not(.amp-disabled){animation:none}@keyframes i-amphtml-carousel-hint{0%{opacity:1;visibility:visible}to{opacity:0;visibility:hidden}}amp-carousel .amp-carousel-button.amp-disabled{animation:none;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}amp-carousel[i-amphtml-carousel-hide-buttons] .amp-carousel-button-next,amp-carousel[i-amphtml-carousel-hide-buttons] .amp-carousel-button-prev{opacity:0;pointer-events:none;visibility:visible!important}.i-amphtml-slides-container{display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:nowrap;flex-wrap:nowrap;height:100%!important;left:0;overflow-x:auto!important;overflow-y:hidden!important;position:absolute!important;top:0;width:100%!important;scroll-snap-type:x mandatory!important;scrollbar-width:none;padding-bottom:20px!important;box-sizing:content-box!important;-webkit-overflow-scrolling:touch!important}.i-amphtml-slides-container::-webkit-scrollbar{display:none!important}.i-amphtml-slides-container.i-amphtml-no-scroll{overflow-x:hidden!important}.i-amphtml-slide-item{-ms-flex-align:center!important;align-items:center!important;display:none!important;-ms-flex:0 0 100%!important;flex:0 0 100%!important;height:100%!important;-ms-flex-pack:center!important;justify-content:center!important;position:relative!important;scroll-snap-align:start!important;width:100%!important}.i-amphtml-slide-item>*{height:100%;width:100%;overflow:hidden!important}.i-amphtml-slide-item-show{display:-ms-flexbox!important;display:flex!important}.i-amphtml-carousel-end-marker,.i-amphtml-carousel-start-marker{background-color:transparent!important;display:block!important;-ms-flex:0 0 1px!important;flex:0 0 1px!important;height:100%!important;position:relative!important;scroll-snap-align:start!important;width:1px!important}.i-amphtml-carousel-start-marker{-ms-flex-order:-1!important;order:-1!important;margin-left:-1px!important}.i-amphtml-carousel-end-marker{-ms-flex-order:100000000!important;order:100000000!important;margin-right:-1px!important}.i-amphtml-slidescroll-no-snap.i-amphtml-slides-container{scroll-snap-type:none!important}.i-amphtml-slidescroll-no-snap .i-amphtml-slide-item{scroll-snap-align:none!important}.i-amphtml-slidescroll-no-snap.i-amphtml-slides-container.i-amphtml-no-scroll{-webkit-overflow-scrolling:auto!important}.amp-scrollable-carousel-slide{display:inline-block!important;margin-left:8px}.amp-scrollable-carousel-slide:first-child{margin-left:0px}.i-amphtml-scrollable-carousel-container{white-space:nowrap!important;overflow-x:auto!important;overflow-y:hidden!important;-webkit-overflow-scrolling:touch!important}\n/*# sourceURL=/extensions/amp-carousel/0.1/amp-carousel.css*/')})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-carousel-0.1.mjs.map